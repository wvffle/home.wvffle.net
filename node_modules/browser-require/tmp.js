var re = /^[^(?:\*|\/)]*\s*require\(['"]([^'"]+)['"]\)/gm
  , fs = require('fs')
  , src = fs.readFileSync('./test/nested/js/test.js', 'utf8');

var match
  , deps = [];
while (match = re.exec(src)) {
  deps.push(match[1]);
}

console.log(deps);
